(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{1177:function(t,e,n){"use strict";(function(t){e.a={name:"ContentfulRevisionTag",data:()=>({json:[]}),async fetch(){try{const e="xenophilius:lovegood",n=t.from(e).toString("base64"),o="/"===(null==this?void 0:this.$route.path),r=this.$route.path.split("/").filter(Boolean).pop();if(!r&&!o)return;const l=await fetch(`https://the-quibbler.ext.production.bollandbranch.io/api/content/${o?"homepage":r}`,{method:"get",headers:{Authorization:"Basic "+n}}),c=await l.json();this.json=null!=c?c:[]}catch(t){console.warn("Encountered error fetching contentful rev from the build service:"),console.warn(t),this.json=[]}},computed:{parsedJson(){var t;if(null==this||!this.json||0===(null==this||null===(t=this.json)||void 0===t?void 0:t.length))return null;const e=JSON.parse(this.json),n={publishedVersion:null==e?void 0:e.publishedVersion,publishedAt:null==e?void 0:e.publishedAt};return JSON.stringify(n)}}}}).call(this,n(119).Buffer)},1178:function(t,e,n){"use strict";var o=n(1),r=n(1179);e.a=t=>({data:()=>({schema:{}}),computed:{...Object(o.c)("space",["getMetatag","getMetafield"]),...Object(o.c)("inventory",["getVariantAvailability"]),fetchLocalBusiness(){var t=this.getMetafield("seo-details","localBusinessImages")||"";t=t.length>0?t.split(","):[];var address=(this.getMetafield("seo-details","localBusinessAddress")||"").split(",");return{url:this.getMetafield("seo-details","localBusinessUrl")||"",image:t,address:{"@type":"PostalAddress",streetAddress:(address[0]||"").trim(),addressLocality:(address[1]||"").trim(),addressRegion:(address[2]||"").trim(),addressCountry:(address[3]||"").trim(),postalCode:(address[4]||"").trim()}}},fetchOrganization(){return{logo:this.getMetafield("seo-details","organizationLogo")||"",image:this.getMetafield("seo-details","organizationImage")||"",url:this.getMetafield("seo-details","organizationUrl")||""}},content(){var t,e;return null!==(t=this.article)&&void 0!==t&&t.fields?Object(r.documentToPlainTextString)(this.article.fields.content):null!==(e=this.article)&&void 0!==e&&e.content?this.article.content:""}},created(){const image=this.getMetatag("og:image");this.product&&this.product.metafields&&this.yotpo(this.product);var t=this.fetchLocalBusiness,e=this.fetchOrganization;this.schema={...this.article&&{article:{"@type":"Article",articleBody:this.strip(this.content),mainEntityOfPage:{"@type":"WebPage","@id":`https://${this.$store.state.space.domain}${this.$route.path}`},headline:this.article.title,...this.article.excerpt&&{description:this.article.excerpt},...this.article.featuredMedia&&{image:[this.article.featuredMedia.src]},...this.article.publishDate&&{datePublished:new Date(1e3*this.article.publishDate).toISOString()},...this.article.createdAt&&{dateCreated:new Date(1e3*this.article.createdAt).toISOString()},...this.article.updatedAt&&{dateModified:new Date(1e3*this.article.updatedAt).toISOString()},...this.article.author&&{author:{"@type":"Person",name:`${this.article.author.firstName} ${this.article.author.lastName}`}},publisher:{"@type":"Organization",name:this.$store.state.space.name,...image&&{logo:{"@type":"ImageObject",url:image.value}}}}},localBusiness:{"@type":"LocalBusiness",name:"Boll & Branch",url:t.url,email:"help@bollandbranch.com",image:t.image,address:t.address},webSite:{"@type":"WebSite",name:"Boll & Branch",url:e.url,potentialAction:{"@type":"SearchAction",target:"https://www.bollandbranch.com/search?query={search_term_string}","query-input":"required name=search_term_string"}},organization:{"@type":"Organization","@id":"https://www.bollandbranch.com#organization",name:"Boll & Branch",url:e.url,logo:e.logo,image:e.image,sameAs:["https://www.facebook.com/bollandbranch","https://www.instagram.com/bollandbranch","https://twitter.com/bollandbranch","https://www.youtube.com/user/BollBranch/","https://www.linkedin.com/company/boll-&-branch","https://www.pinterest.com/bollandbranch/"]}}},methods:{strip:html=>"string"==typeof html&&html.replace(/<[^>]*>?/gm,""),yotpo(t){var e={};return t.metafields.forEach((t=>{"yotpo"===t.namespace&&(e[t.key]=t.value)})),e},upsertProduct(t){var e,n;var o={};this.product&&this.product.metafields&&(o=this.yotpo(this.product));var r=this.fetchOrganization;this.schema.product={"@type":"Product",name:this.product.content.title,url:`${r.url}${this.$route.path}`,...this.product.content.featuredMedia&&{image:[this.product.content.featuredMedia.src]},description:this.strip(this.product.content.description),brand:{"@type":"Thing",name:this.product.vendor},...o&&(null===(e=o)||void 0===e?void 0:e.reviews_average)&&(null===(n=o)||void 0===n?void 0:n.reviews_count)&&{aggregateRating:{"@type":"AggregateRating",ratingValue:o.reviews_average,reviewCount:o.reviews_count}},...this.product.variants&&{offers:this.product.variants.map((t=>({"@type":"Offer",availability:"http://schema.org/"+(this.getVariantAvailability(null==t?void 0:t.sourceEntryId)?"InStock":"OutOfStock"),name:t.title,sku:t.sku,price:t.price,priceCurrency:t.priceCurrency,url:`https://www.bollandbranch.com${this.$route.path}`})))}}}},jsonld(){this.product&&this.upsertProduct(this.product);var e={"@context":"http://schema.org","@graph":[]};return t.split(",").forEach((t=>{var n;return e["@graph"].push(null!==(n=this.schema[t.trim()])&&void 0!==n?n:{})})),e}})},1179:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function o(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function r(t,e){return t(e={exports:{}},e.exports),e.exports}var l=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.BLOCKS=void 0,function(t){t.DOCUMENT="document",t.PARAGRAPH="paragraph",t.HEADING_1="heading-1",t.HEADING_2="heading-2",t.HEADING_3="heading-3",t.HEADING_4="heading-4",t.HEADING_5="heading-5",t.HEADING_6="heading-6",t.OL_LIST="ordered-list",t.UL_LIST="unordered-list",t.LIST_ITEM="list-item",t.HR="hr",t.QUOTE="blockquote",t.EMBEDDED_ENTRY="embedded-entry-block",t.EMBEDDED_ASSET="embedded-asset-block",t.TABLE="table",t.TABLE_ROW="table-row",t.TABLE_CELL="table-cell",t.TABLE_HEADER_CELL="table-header-cell"}(e.BLOCKS||(e.BLOCKS={}))}));o(l);l.BLOCKS;var c=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.INLINES=void 0,function(t){t.HYPERLINK="hyperlink",t.ENTRY_HYPERLINK="entry-hyperlink",t.ASSET_HYPERLINK="asset-hyperlink",t.EMBEDDED_ENTRY="embedded-entry-inline"}(e.INLINES||(e.INLINES={}))}));o(c);c.INLINES;var d=r((function(t,e){var n;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.BOLD="bold",t.ITALIC="italic",t.UNDERLINE="underline",t.CODE="code",t.SUPERSCRIPT="superscript",t.SUBSCRIPT="subscript"}(n||(n={})),e.default=n}));o(d);var h=r((function(t,e){var o,r=n&&n.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var o,i=0,r=e.length;i<r;i++)!o&&i in e||(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return t.concat(o||Array.prototype.slice.call(e))},h=n&&n.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.V1_MARKS=e.V1_NODE_TYPES=e.TEXT_CONTAINERS=e.HEADINGS=e.CONTAINERS=e.VOID_BLOCKS=e.TABLE_BLOCKS=e.LIST_ITEM_BLOCKS=e.TOP_LEVEL_BLOCKS=void 0;var L=h(d);e.TOP_LEVEL_BLOCKS=[l.BLOCKS.PARAGRAPH,l.BLOCKS.HEADING_1,l.BLOCKS.HEADING_2,l.BLOCKS.HEADING_3,l.BLOCKS.HEADING_4,l.BLOCKS.HEADING_5,l.BLOCKS.HEADING_6,l.BLOCKS.OL_LIST,l.BLOCKS.UL_LIST,l.BLOCKS.HR,l.BLOCKS.QUOTE,l.BLOCKS.EMBEDDED_ENTRY,l.BLOCKS.EMBEDDED_ASSET,l.BLOCKS.TABLE],e.LIST_ITEM_BLOCKS=[l.BLOCKS.PARAGRAPH,l.BLOCKS.HEADING_1,l.BLOCKS.HEADING_2,l.BLOCKS.HEADING_3,l.BLOCKS.HEADING_4,l.BLOCKS.HEADING_5,l.BLOCKS.HEADING_6,l.BLOCKS.OL_LIST,l.BLOCKS.UL_LIST,l.BLOCKS.HR,l.BLOCKS.QUOTE,l.BLOCKS.EMBEDDED_ENTRY,l.BLOCKS.EMBEDDED_ASSET],e.TABLE_BLOCKS=[l.BLOCKS.TABLE,l.BLOCKS.TABLE_ROW,l.BLOCKS.TABLE_CELL,l.BLOCKS.TABLE_HEADER_CELL],e.VOID_BLOCKS=[l.BLOCKS.HR,l.BLOCKS.EMBEDDED_ENTRY,l.BLOCKS.EMBEDDED_ASSET],e.CONTAINERS=((o={})[l.BLOCKS.OL_LIST]=[l.BLOCKS.LIST_ITEM],o[l.BLOCKS.UL_LIST]=[l.BLOCKS.LIST_ITEM],o[l.BLOCKS.LIST_ITEM]=e.LIST_ITEM_BLOCKS,o[l.BLOCKS.QUOTE]=[l.BLOCKS.PARAGRAPH],o[l.BLOCKS.TABLE]=[l.BLOCKS.TABLE_ROW],o[l.BLOCKS.TABLE_ROW]=[l.BLOCKS.TABLE_CELL,l.BLOCKS.TABLE_HEADER_CELL],o[l.BLOCKS.TABLE_CELL]=[l.BLOCKS.PARAGRAPH],o[l.BLOCKS.TABLE_HEADER_CELL]=[l.BLOCKS.PARAGRAPH],o),e.HEADINGS=[l.BLOCKS.HEADING_1,l.BLOCKS.HEADING_2,l.BLOCKS.HEADING_3,l.BLOCKS.HEADING_4,l.BLOCKS.HEADING_5,l.BLOCKS.HEADING_6],e.TEXT_CONTAINERS=r([l.BLOCKS.PARAGRAPH],e.HEADINGS,!0),e.V1_NODE_TYPES=[l.BLOCKS.DOCUMENT,l.BLOCKS.PARAGRAPH,l.BLOCKS.HEADING_1,l.BLOCKS.HEADING_2,l.BLOCKS.HEADING_3,l.BLOCKS.HEADING_4,l.BLOCKS.HEADING_5,l.BLOCKS.HEADING_6,l.BLOCKS.OL_LIST,l.BLOCKS.UL_LIST,l.BLOCKS.LIST_ITEM,l.BLOCKS.HR,l.BLOCKS.QUOTE,l.BLOCKS.EMBEDDED_ENTRY,l.BLOCKS.EMBEDDED_ASSET,c.INLINES.HYPERLINK,c.INLINES.ENTRY_HYPERLINK,c.INLINES.ASSET_HYPERLINK,c.INLINES.EMBEDDED_ENTRY,"text"],e.V1_MARKS=[L.default.BOLD,L.default.CODE,L.default.ITALIC,L.default.UNDERLINE]}));o(h);h.V1_MARKS,h.V1_NODE_TYPES,h.TEXT_CONTAINERS,h.HEADINGS,h.CONTAINERS,h.VOID_BLOCKS,h.TABLE_BLOCKS,h.LIST_ITEM_BLOCKS,h.TOP_LEVEL_BLOCKS;var L=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0})}));o(L);var E=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0})}));o(E);var O=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n={nodeType:l.BLOCKS.DOCUMENT,data:{},content:[{nodeType:l.BLOCKS.PARAGRAPH,data:{},content:[{nodeType:"text",value:"",marks:[],data:{}}]}]};e.default=n}));o(O);var f=r((function(t,e){function n(t,e){for(var n=0,o=Object.keys(t);n<o.length;n++){if(e===t[o[n]])return!0}return!1}Object.defineProperty(e,"__esModule",{value:!0}),e.isText=e.isBlock=e.isInline=void 0,e.isInline=function(t){return n(c.INLINES,t.nodeType)},e.isBlock=function(t){return n(l.BLOCKS,t.nodeType)},e.isText=function(t){return"text"===t.nodeType}}));o(f);f.isText,f.isBlock,f.isInline;var S=r((function(t,e){var o=n&&n.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n);var desc=Object.getOwnPropertyDescriptor(e,n);desc&&!("get"in desc?!e.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,o,desc)}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),r=n&&n.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),S=n&&n.__exportStar||function(t,e){for(var p in t)"default"===p||Object.prototype.hasOwnProperty.call(e,p)||o(e,t,p)},_=n&&n.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return r(e,t),e},B=n&&n.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.helpers=e.EMPTY_DOCUMENT=e.MARKS=e.INLINES=e.BLOCKS=void 0,Object.defineProperty(e,"BLOCKS",{enumerable:!0,get:function(){return l.BLOCKS}}),Object.defineProperty(e,"INLINES",{enumerable:!0,get:function(){return c.INLINES}}),Object.defineProperty(e,"MARKS",{enumerable:!0,get:function(){return B(d).default}}),S(h,e),S(L,e),S(E,e),Object.defineProperty(e,"EMPTY_DOCUMENT",{enumerable:!0,get:function(){return B(O).default}});var C=_(f);e.helpers=C}));o(S);var _=S.helpers;S.EMPTY_DOCUMENT,S.MARKS,S.INLINES,S.BLOCKS;e.documentToPlainTextString=function t(e,n){return void 0===n&&(n=" "),e&&e.content?e.content.reduce((function(o,r,i){var l;if(_.isText(r))l=r.value;else if((_.isBlock(r)||_.isInline(r))&&!(l=t(r,n)).length)return o;var c=e.content[i+1];return o+l+(c&&_.isBlock(c)?n:"")}),""):""}}).call(this,n(54))},1182:function(t,e,n){"use strict";var o=n(1177).a,r=n(0),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",[t.parsedJson?e("script",{attrs:{"data-contentful-revisions":t.parsedJson}}):t._e()])}),[],!1,null,"09959f5b",null);e.a=component.exports},1190:function(t,e,n){"use strict";var o=n(1);e.a=(t={})=>({data:()=>({collectionHandle:null,collection:null,noCollectionData:!1,products:[],productIndex:0,productsPerPage:t.itemsPerPage||30,selectedList:t.selectedList||"default",isLoadingProducts:!1}),async asyncData(e){const{params:n,app:o,store:r}=e,{collectionHandle:l,pageHandle:c,articleHandle:d}=n,{$nacelle:h}=o;let L=null;t&&t.collectionHandle?L=t.collectionHandle:l?L=l:c?L=c:d&&(L=d);const E={collectionHandle:L,collection:null,products:[],productIndex:0,selectedList:t.selectedList||"default",locale:t.locale||h.locale},O=(0,r.getters["collections/getCollection"])(E.collectionHandle);if(O)return{...O};try{var f,S;return E.collection=await h.client.productCollections({handles:[E.collectionHandle],maxReturnedEntries:-1,maxReturnedEntriesPerCollection:50}).catch((()=>{E.noCollectionData=!0})),E.collection=E.collection[0],E.products=null===(f=E.collection)||void 0===f?void 0:f.productConnection.edges.map((t=>t.node)),E.productIndex=null===(S=E.products)||void 0===S?void 0:S.length,r.commit("collections/updateCollection",E),{...E}}catch(t){console.error(`Could not get collection data: "${L}"`)}},created(){this.unsubscribe=this.$store.subscribe((async(t,e)=>{"user/setLocale"===t.type&&(this.locale=t.payload.locale,this.isLoadingProducts=!0,this.collection=await this.$nacelle.client.productCollections({handles:[this.collectionHandle],locale:this.$nacelle.locale}).catch((()=>{this.nocollectionData=!0})),this.collection&&this.collection.productLists&&this.collection.productLists.length>0&&(this.products=await this.$nacelle.client.collectionPage({collection:this.collection,selectedList:this.selectedList||"default",paginate:!0,itemsPerPage:this.itemsPerPage||12,locale:this.$nacelle.locale}),this.productIndex=this.products.length,this.updateCollectionProducts({handle:this.collectionHandle,products:this.products,productIndex:this.productIndex})),this.isLoadingProducts=!1)}))},beforeDestroy(){this.unsubscribe()},computed:{selectedProductList(){if(this.collection&&Array.isArray(this.collection.productLists)){const t=this.collection.productLists.find((t=>t.slug===this.selectedList));if(t&&Array.isArray(t.handles))return t.handles}return[]}},methods:{...Object(o.d)("collections",["updateCollectionProducts"]),async fetchMore(){if(!this.isLoadingProducts&&this.collection&&this.productIndex<this.selectedProductList.length){this.isLoadingProducts=!0;const t=await this.$nacelle.client.collectionPage({collection:this.collection,list:this.selectedList,paginate:!0,index:this.productIndex,itemsPerPage:this.productsPerPage,locale:this.locale});this.products=[...this.products,...t],this.productIndex+=this.productsPerPage,this.isLoadingProducts=!1,this.updateCollectionProducts({handle:this.collectionHandle,products:this.products,productIndex:this.productIndex})}}}})},1195:function(t,e){function n(t,e){let o=e||[];return t.forEach((t=>{t.mixins&&n(t.mixins,o),t.asyncData&&!o.includes(t)&&o.push(t)})),o}function o(t){if(t&&t.mixins){let e=n(t.mixins);if(e.length){let n=e.map((t=>t.asyncData));t.asyncData&&n.push(t.asyncData),t.asyncData=async t=>{const e=await Promise.all(n.map((e=>e(t))));return Object.assign.apply(Object,e)}}}return t}function r(t,e){if(t&&t.mixins){let r=n(t.mixins);if(r.length)if(t.asyncData){let e=t.asyncData;t.asyncData=async t=>(t.mixins=r,await e(t))}else if(e)return o(t)}return t}const l=o;l.sync=function(t){if(t&&t.mixins){let e=n(t.mixins);if(e.length){let n=e.map((t=>t.asyncData));t.asyncData&&n.push(t.asyncData),t.asyncData=async t=>{let e;for(let i=0;i<n.length;i++)t.asyncDataResult=e,e=Object.assign(e||{},await n[i](t));return e}}}return t},l.manual=t=>r(t,!1),l.controlled=t=>r(t,!0);t.exports=l},1544:function(t,e,n){"use strict";n.r(e);var o=n(1175),r=n(1190),l=n(1189),c=n(36),d=n(1195),h=n.n(d),L=n(1178),E=n(1),O=n(1182),f=h()({components:{PageContent:l.a,ContentfulRevisionTag:O.a},computed:{name(){return this.$store.state.space.name}},methods:{...Object(E.d)("page",["setPageType"])},head(){if(this.page){var t,e,n,o;const r={},meta=[],title=null===(t=this.page.fields)||void 0===t?void 0:t.metaTitle,l=null===(e=this.page.fields)||void 0===e?void 0:e.metaDescription,image=null===(n=this.page.fields)||void 0===n||null===(n=n.metaImage)||void 0===n||null===(n=n.fields)||void 0===n||null===(n=n.file)||void 0===n?void 0:n.url;if(r.title=title||(null===(o=this.getMetatag("title"))||void 0===o?void 0:o.value),title&&(meta.push({hid:"og:title",property:"og:title",content:title}),meta.push({hid:"twitter:title",property:"twitter:title",content:title})),l&&(meta.push({hid:"description",name:"description",content:l}),meta.push({hid:"og:description",property:"og:description",content:l}),meta.push({hid:"twitter:description",property:"twitter:description",content:l})),image){const t=this.transformContentfulImage(image);meta.push({hid:"og:image",property:"og:image",content:t}),meta.push({hid:"og:image:secure",property:"og:image:secure",content:t}),meta.push({hid:"twitter:image",property:"twitter:image",content:t})}return{...r,meta:meta}}},mounted(){this.setPageType("homepage")},mixins:[Object(o.a)({pageHandle:"homepage"}),Object(r.a)({collectionHandle:"homepage"}),Object(L.a)("organization,webSite,localBusiness"),c.b]}),S=n(0),component=Object(S.a)(f,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"page"},[this.noPageData?e("div"):t._e(),t._v(" "),e("page-content",{attrs:{page:t.page,products:t.products}}),t._v(" "),e("contentful-revision-tag")],1)}),[],!1,null,null,null);e.default=component.exports}}]);